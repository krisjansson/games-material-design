<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>jQuery Mobile</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- JQuery mobile LINKS-->
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="slick/slick.css"/>
<link rel="stylesheet" type="text/css" href="slick/slick-theme.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<!-- loading formvalidator plugin (formvalidator.net) -->
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-form-validator/2.3.26/jquery.form-validator.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<link rel="stylesheet" href="mobile-master.css">
<script>
	
	$( document ).ready(function() {
		// form validering
		// custom language object
		var myErrorFeedback = {
			badInt: 'Please enter a number between 0-10.'
		}
		// formvalidator setup function
		$.validate({
			// language object overwritten by custom language object
    		language : myErrorFeedback,
			inputParentClassOnError : 'alert alert-danger' // <- assigning Bootstrap's alert classes to error message container
  		});
  	//prevent form submission
    $("form").submit(function(event){
		//console.log('Form not submitted!');
		playGame();
		
        event.preventDefault();
    });
});
	
</script>
<style>
body {
	font-family: 'Roboto', sans-serif;
	font-weight: 300!important;
}
.ui-bar-a, .ui-page-theme-a .ui-bar-inherit {
	background-color: #f9f9f9!important;
}
.ui-page-theme-a .ui-btn {
	background-color: #fff;
	text-shadow: none;
	padding: 1.1em;
	font-size: 1em;
}
.start-text {
	width: 100%;
	font-size: 2em;
	padding: 0.5em 0;
	text-align: center;
	border-radius: 10px;
}
h1 {
	font-weight: 600;
	font-size: 2em!important;
	text-shadow: none;
}
#playAgains {
	background: #538ff0;
	color: #fff;
	text-shadow: none;
	box-shadow: 0 1.5px 3px rgba(0,0,0,0.16), 0 1.5px 3px rgba(0,0,0,0.23);
	border: none;
	font-weight: 300;
	margin: 2em 0;
}
#tictactoe {
	background: #FBFBFB;
}
#homepage, #guessgame {
	padding: 0.2em;
	margin: 0;
}
.player-version {
	font-size: 1.5em;
}
table {
	width: 100%;
	border-collapse: collapse;
	background-color: #FCFCFC;
	border-radius: 20px;
	box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
	margin-bottom: 20px;
}
td {
	border: 3px solid #414042;
	width: 25%;
	font-family: "Gill Sans", "Gill Sans MT", "Myriad Pro", "DejaVu Sans Condensed", Helvetica, Arial, "sans-serif";
	text-align: center;
	font-size: 5em;
	vertical-align: middle;
}
/* https://spin.atomicobject.com/2015/07/14/css-responsive-square/ */
td:after {
	content: "";
	display: block;
	padding-bottom: 10%;
}
td:first-of-type {
	border-left-color: transparent;
	border-top-color: transparent;
}
td:nth-of-type(2) {
	border-top-color: transparent;
}
td:nth-of-type(3) {
	border-right-color: transparent;
	border-top-color: transparent;
}
tr:nth-of-type(3) td {
	border-bottom-color: transparent;
}
.info {
	margin-top: 2em;
}
.footer, #footer {
	text-align: center;
	font-weight: 400;
}
a {
	text-decoration: none;
}
.hidden {
	display: none;
}
img {
	width: 100%;
	margin: 0 auto;
}
.mbsc-card {
	background: #fff;
	padding: 2em;
	border-radius: 25px;
	margin: 2em 1em 3em;
}
.game-name {
	font-size: 2em;
	font-weight: 400;
	margin: 0em 0 0.5em;
}
.myBtn {
	background-color: #538ff0!important;
	border-radius: 25px!important;
	color: #fff!important;
	font-weight: 400!important;
	margin: 0 auto!important;
	font-size: 1.5em!important;
	padding: 0.5em!important;
	border: none!important;
}
input {
	width: 100%!important;
	padding: 2em !important;
	box-sizing:border-box!important;

}
.ui-input-text, .ui-input-search {
	border: none!important;
}
.ui-focus {
	box-shadow: none!important;

}
.mt {
	margin-top: 2em!important;
}


input::placeholder {
	color: #A3A3A3;
}
</style>
</head>
<body>

<!-- WELCOME PAGE PAGE Start -->
<div data-role="page" id="homepage">
    <div data-role="header">
        <h1>Welcome</h1>
    </div>
    <div role="main" class="ui-content">
        <div class="start-text" >Choose a game to play</div>
        <div class="mbsc-card z-depth-3" >
            <p class="game-name">Tic Tac Toe</p>
            <img src="tictactoe.png" alt="image">
            <div class="mbsc-card-content">
                <p>Tic-tac-toe is a paper-and-pencil game for two players, X and O, who take turns marking the spaces in a 3×3 grid. The player who succeeds in placing three of their marks in a horizontal, vertical, or diagonal row wins the game.</p>
            </div>
            <div class="mbsc-card-footer"> <a href="#tictactoe" data-transition="pop">
                <button class="myBtn z-depth-1">Play</button>
                </a> </div>
        </div>
		<div class="mbsc-card z-depth-3" >
            <p class="game-name">Guess It!</p>
            <img src="guessit.png" alt="image">
            <div class="mbsc-card-content">
                <p>Guess It: Is a game where the server generates a random number between 0 and 10 and you have 3 tries to guess the correct number.</p>
            </div>
            <div class="mbsc-card-footer"> <a href="#guessgame" data-transition="pop">
                <button class="myBtn z-depth-1">Play</button>
                </a> </div>
        </div>
			<div class="mbsc-card z-depth-3" >
		<p class="game-name">1 Question Game</p>
		<img src="one-question.png" alt="image">
		<div class="mbsc-card-content">
			<p>A very hard, tricky and sophisticated game where you will get 1 question and a million tries GOOD LUCK!</p>
		</div>
		<div class="mbsc-card-footer"> <a href="#basicquiz" data-transition="pop">
			<button class="myBtn z-depth-1">Play</button>
			</a> </div>
	</div>
		
        <div data-role="footer" class="ui-footer footer">
            <p> <i><a href="www.kristjansson.dk">Kristjansson.dk &copy; 2018</a></i> </p>
        </div>
    </div>
</div>
<!-- WELCOME PAGE PAGE END --> 

	
<!-- TICTACTOE PAGE Start -->	
<div data-role="page" id="tictactoe">
    <div data-role="header" class="header"> 
			  <a href="#homepage" data-transition="pop" data-direction="reverse">Back</a>
        <h1>Tic Tac Toe</h1>
    </div>
    <div role="main" class="ui-content">
        <div class="row"> 
            <!-- 2 columns, reordered on medium devices and up --> 
            <!-- First column -->
            
            <div class="col-lg-6 order-lg-2">
                <div id="msg" class="start-text text-center alert alert-success fields" role="alert">Click fields to play!</div>
                <table>
                    <tbody>
                        <tr>
                            <td id="1">&nbsp;</td>
                            <td id="2">&nbsp;</td>
                            <td id="3">&nbsp;</td>
                        </tr>
                        <tr>
                            <td id="4">&nbsp;</td>
                            <td id="5">&nbsp;</td>
                            <td id="6">&nbsp;</td>
                        </tr>
                        <tr>
                            <td id="7">&nbsp;</td>
                            <td id="8">&nbsp;</td>
                            <td id="9">&nbsp;</td>
                        </tr>
                    </tbody>
                </table>
                <button id="playAgains" class="hidden myBtn" >Play again!</button>
            </div>
            <!-- Second column -->
            <div class="info">
                <div class="player-version" role="alert">Game stats:</div>
                <hr>
                <p>player X score: <span id="player1"></span></p>
                <p>player O score: <span id="player2"></span></p>
                <p>Draw: <span id="draw"></span></p>
            </div>
        </div>
    </div>
    <!-- Container end --> 
    
    <script>
	
	/*
	
	Stuff to handle ;-):
	1. Make the fields clickable (player0 uses "X", player1 "0")
	2. Keep track of all used fields (fieldsPlayed) and of the fields each player chose (fieldsPlayer1, fieldsPlayer2)
	3. Avoid that úsed fields can be played again and implement feedback like "Field already taken" (alert();)
	4. Check for winning combinations
	5. Implement feedback to the players (winning or game is a draw)
	6. End the game, avoid further playing
	7. Add a "Play again button"
	8. Implement game statistics (local storage!)
	9. Style the game to fit in the given Bootstrap layout ;-)
	
	*/
	
	// global game variables
	var player, fields, fieldsPlayed, fieldsPlayer1, fieldsPlayer2, winningFields, msg, playButton;
	
	// global statistics caribles
	var p1Stats , p2Stats, drawStats;
	
	player = 1;
	// an array for all played fields
	fieldsPlayed = [];
	// arrays for each player
	fieldsPlayer1 = [];
	fieldsPlayer2 = [];
	
	// make all fields clickable
	fields = document.getElementsByTagName('td');
	
	for(let i = 0; i < fields.length; i++  ){
		fields[i].addEventListener('click', play);
	}
	
	msg = document.getElementById('msg');
	// Play again:
	playButton = document.getElementById("playAgains");
	playButton.addEventListener('click', playAgains);
	
	p1Stats = document.getElementById('player1');
	p2Stats = document.getElementById('player2');
	drawStats = document.getElementById('draw');
	
	function play(){
		// game core mechanics, marking the fields
		//console.log('play!');
		if(fieldsPlayed.includes(this.id)){
			alert('Field already taken!');
		}
		
		if(player === 1 && !fieldsPlayed.includes(this.id)){
		// this addresses the "owner" of the function, i.e. <td>
		this.innerHTML = 'X';
		this.style.color = '#363636';
		fieldsPlayer1.push(parseInt(this.id));
		console.log('Player 1 played ' + fieldsPlayer1.toString());
		player = 2;
		} else if(player === 2 && !fieldsPlayed.includes(this.id)){
			this.innerHTML = 'O';
			this.style.color = '#363636';
			fieldsPlayer2.push(parseInt(this.id));
			console.log('Player 2 played ' + fieldsPlayer2.toString());
			player = 1;
		}
		// store field in array
		fieldsPlayed.push(this.id);
		//console.log(this.id + ' clicked!');
		// checking for a winning combination
		win();
	}
		
	function win(){
		// analyzing field choices, winning conditions, feedback
		if(
			// player 1 winners
			fieldsPlayer1.includes(1) && fieldsPlayer1.includes(2) && fieldsPlayer1.includes(3) ||
		  	fieldsPlayer1.includes(4) && fieldsPlayer1.includes(5) && fieldsPlayer1.includes(6) ||
		  	fieldsPlayer1.includes(7) && fieldsPlayer1.includes(8) && fieldsPlayer1.includes(9) ||
		  	fieldsPlayer1.includes(1) && fieldsPlayer1.includes(5) && fieldsPlayer1.includes(9) ||
		  	fieldsPlayer1.includes(3) && fieldsPlayer1.includes(5) && fieldsPlayer1.includes(7)	||
		  	fieldsPlayer1.includes(1) && fieldsPlayer1.includes(4) && fieldsPlayer1.includes(7) ||
		  	fieldsPlayer1.includes(2) && fieldsPlayer1.includes(5) && fieldsPlayer1.includes(8) ||
		  	fieldsPlayer1.includes(3) && fieldsPlayer1.includes(6) && fieldsPlayer1.includes(9)	
		)
			{
			msg.innerHTML = "Player 1 won!";
				
			// statistics update
			let player1score = localStorage.getItem('player1'); // get the value from local storage
			player1score++;// increment the value
			localStorage.setItem('player1', player1score); // submitt the value to local storage

				
			gameOver();
		} else if (
			// player 2 winners
			fieldsPlayer2.includes(1) && fieldsPlayer2.includes(2) && fieldsPlayer2.includes(3) ||
		  	fieldsPlayer2.includes(4) && fieldsPlayer2.includes(5) && fieldsPlayer2.includes(6) ||
		  	fieldsPlayer2.includes(7) && fieldsPlayer2.includes(8) && fieldsPlayer2.includes(9) ||
		  	fieldsPlayer2.includes(1) && fieldsPlayer2.includes(5) && fieldsPlayer2.includes(9) ||
		  	fieldsPlayer2.includes(3) && fieldsPlayer2.includes(5) && fieldsPlayer2.includes(7) ||
		  	fieldsPlayer2.includes(1) && fieldsPlayer2.includes(4) && fieldsPlayer2.includes(7) ||
		  	fieldsPlayer2.includes(2) && fieldsPlayer2.includes(5) && fieldsPlayer2.includes(8) ||
		  	fieldsPlayer2.includes(3) && fieldsPlayer2.includes(6) && fieldsPlayer2.includes(9)
		)
			{
			msg.innerHTML = "Player 2 won!";
								
			// statistics update
			let player2score = localStorage.getItem('player2'); // get the value from local storage
			player2score++;// increment the value
			localStorage.setItem('player2', player2score); // submitt the value to local storage
				
			gameOver();
		} else if (
			// game is a draw
			fieldsPlayed.length === 9
		)
			{
			msg.innerHTML = "Game is a draw!";
							
			let drawscore = localStorage.getItem('draw');
			drawscore++;
			localStorage.setItem('draw', drawscore);
				
			gameOver()
		}
	}

	function gameOver(){
		// ending the game
		// removing ALL event listeners
		gameStats();
		 for (var i = 0; i < fields.length; i++) {
			fields[i].removeEventListener('click', play); 
		}
		// activate the play again button, JS style (% jQuery)
		playButton.classList.remove("hidden");
	}
	
	function playAgains(){
		// restart the game
		window.location.reload(true);
	}
	
	function gameStats(){
		// game stats using local storage
		
		//preparing local storage
		if(!localStorage.getItem('player1')){
			localStorage.setItem('player1', 0);
			localStorage.setItem('player2', 0);
			localStorage.setItem('draw', 0);
		}
		// reading from local storage
		let player1score = localStorage.getItem('player1');
		let player2score = localStorage.getItem('player2');
		let drawscore = localStorage.getItem('draw');
		
		//displaying the values from local storage
		p1Stats.innerHTML = player1score;
		p2Stats.innerHTML = player2score;
		drawStats.innerHTML = drawscore;
				
	}
	//inistalizing game stats
	
	gameStats();
		
</script>
    <div data-role="footer" id="footer">
        <p> <i>Kristjansson.dk &copy; 2018</i> </p>
    </div>
</div>	
<!-- TICTACTOE PAGE PAGE END --> 
	
	
<!-- GUESS GAME PAGE Start -->	
<div data-role="page" id="guessgame">
	<div data-role="header"> 
		  <a href="#homepage" data-transition="pop" data-direction="reverse">Back</a>
		<h1>GUESS IT!</h1>
	</div>	
	
  <div role="main" class="ui-content"> <!-- main content container -->
    <!-- Number guess -->
    <div id="output" class="start-text" >I am thinking of a number between 0 and 10...</div>
      <form method="post">
          <input id="guess" data-validation="number" data-validation-allowing="range[0;10]" data-validation-error-msg-container="#error-dialog" placeholder="Enter your guess..." autofocus>
        <div id="error-dialog"></div>
        <button id="play" class="myBtn mt">Guess the magic number!</button>
      </form>
      <!-- should be outside the form -->
      <button id="playAgain" class="hidden myBtn mt">Play again!</button>
  </div>
 
    <div data-role="footer" class="footer ui-footer-fixed">
        <p> <i>Kristjansson.dk &copy; 2018</i> </p>
    </div>
</div>
<script>
	
//Global game variables
var magicNumber, input, output, button, playersGuess, guessesRemaining;
	
magicNumber = Math.floor(Math.random() * 11); // random number 0-10
console.log(magicNumber);
	
//The game "controls"
input = document.getElementById("guess");
output = document.getElementById("output");
button = document.getElementById("playAgain");
button.addEventListener('click', playAgain);
	
//Game state variable
guessesRemaining = 3;
	
function playGame(){
	// core functionality:
    // handling the game statistics (guessesRemaining)
	playersGuess = parseInt(input.value); // converting string input to number!
	//console.log(playersGuess);
	// countdown
	guessesRemaining -= 1;
	// analyzing the player's guess (i.e. the variable playersGuess!)
	if(playersGuess < magicNumber){
		output.innerHTML = playersGuess + ' is too low! ' + guessesRemaining + ' guesses left.';
		// clear the input field
		input.value = '';
		// autofocus
		input.focus();
	} else if(playersGuess > magicNumber){
		output.innerHTML = playersGuess + ' is too high!' + guessesRemaining + ' guesses left.';
		input.value = '';
		input.focus();
	} else if(playersGuess === magicNumber){
		output.innerHTML = 'You got it! ' + playersGuess + ' is the magic number!';
		endGame();
	} 
	// last attempt
	if(guessesRemaining === 0 && playersGuess === magicNumber){
		output.innerHTML = 'Yes - in the final attempt! ' + playersGuess + ' is the magic number!';
		endGame();
	} else if(guessesRemaining === 0){
		output.innerHTML = 'Sorry - no more guesses left. The magic number was ' + magicNumber + '. Game over.';
		endGame();
	}
	
}// end function
	
function endGame(){	
	// disabling all game controls
	$("#playAgain").removeClass("hidden");
	$("#play").addClass("hidden");
	//Disable the input field
	input.disabled = true;
}
	
function playAgain(){
	window.location.reload(true);
}
</script>
	
<!-- GUESS GAMEPAGE PAGE END --> 
	
<!-- BASIC PAGE START --> 
	<div data-role="page" id="basicquiz">
    <div data-role="header" class="header"> 
			  <a href="#homepage" data-transition="pop" data-direction="reverse">Back</a>
        <h1>1 QUESTION</h1>
    </div>
    <div role="main" class="ui-content body">
	<p id="question" class="start-text"></p>

<form id="myForm" method="post" onsubmit="return validateAnswer()">
	<p><input type="text" id="input" placeholder="Type your answer..." autofocus></p>
	<button type="submit" id="submit" class="myBtn">Submit your answer!</button>
</form>

<script>
	// 2 globale variabler (konstanter)
	const question = 'Who is the 45th president of the United States of America?';
	const solution = 'donald trump';
	
	var questionText = document.getElementById('question');
	var myForm = document.getElementById('myForm');
	//console.log(questionText);
	questionText.innerHTML = question;
	
	function validateAnswer(){
		//console.log('Besvaret!');
		let answer = myForm.input.value;
		console.log(answer);
		
		if(answer.toLowerCase() === solution){
			// do something
			questionText.innerHTML = 'Correct!'
		} else {
			// do something else
			questionText.innerHTML = 'I\'d like that - but it\'s not true';
		}
		
		// forhindrer, at formen bliver sendt
		return false;
	}
	
	
</script>
		
		
		</div>
		        <div data-role="footer" class="ui-footer-fixed footer">
            <p> <i><a href="www.kristjansson.dk">Kristjansson.dk &copy; 2018</a></i> </p>
        </div>
	</div>
		
	
<!-- BASIC PAGE END --> 
</body>
</html>